# AI_CONTEXT ‚Äî YouPub Landing

> –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2026-02-09

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–¥–∞—é—â–∏–π –ª–µ–Ω–¥–∏–Ω–≥ –¥–ª—è **YouPub** ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –Ω–∞ 5 –ø–ª–∞—Ç—Ñ–æ—Ä–º (YouTube, Telegram, TikTok, Instagram, Pinterest). –°–∞–π—Ç: `https://youpub.1tlt.ru`

## –°—Ç–µ–∫

| –°–ª–æ–π | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|------|-----------|
| –§—Ä–æ–Ω—Ç–µ–Ω–¥ | React 19, Vite 7, Tailwind CSS 4, Framer Motion 12, Lucide React |
| i18n | i18next, react-i18next, i18next-browser-languagedetector (7 —è–∑—ã–∫–æ–≤: ru/en/zh/hi/de/fr/nl) |
| –ß–∞—Ç-–≤–∏–¥–∂–µ—Ç | React Hook Form 7, Zod 4, `@hookform/resolvers` |
| API-—Å–µ—Ä–≤–µ—Ä | Express 5, dotenv 17 |
| AI | GigaChat API (–°–±–µ—Ä) —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–∫—Å–∏ |
| –¢–µ—Å—Ç—ã | Vitest 4, @testing-library/react 16, jsdom 28 |
| –î–µ–ø–ª–æ–π | GitHub Actions ‚Üí VPS (Apache + PM2) |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
youpublanding/
‚îú‚îÄ‚îÄ .github/workflows/deploy.yml   # CI/CD: build ‚Üí test ‚Üí deploy –Ω–∞ VPS
‚îú‚îÄ‚îÄ public/.htaccess               # Apache: SPA fallback, gzip, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ i18n/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js               # ‚òÖ i18n –∫–æ–Ω—Ñ–∏–≥ (i18next + detector)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ locales/               # JSON-–ø–µ—Ä–µ–≤–æ–¥—ã (ru/en/zh/hi/de/fr/nl)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ru.json            # –†—É—Å—Å–∫–∏–π (–æ—Ä–∏–≥–∏–Ω–∞–ª, fallback)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ en.json            # English
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ zh.json            # ‰∏≠Êñá
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ hi.json            # ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ de.json            # Deutsch
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ fr.json            # Fran√ßais
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ nl.json            # Nederlands
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChatWidget.jsx         # ‚òÖ AI —á–∞—Ç-–≤–∏–¥–∂–µ—Ç (GigaChat, i18n)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChatWidget.test.jsx    # –¢–µ—Å—Ç—ã –≤–∏–¥–∂–µ—Ç–∞ (5 —Ç–µ—Å—Ç–æ–≤, Vitest)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Navbar.jsx             # –ù–∞–≤–∏–≥–∞—Ü–∏—è + –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Hero.jsx               # –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Features.jsx           # –§–∏—á–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Pricing.jsx            # –¢–∞—Ä–∏—Ñ—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FAQ.jsx                # FAQ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (12 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)   # TrustedBy, InterfaceDemo, BeforeAfter, etc.
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx                    # –ö–æ—Ä–Ω–µ–≤–æ–π ‚Äî i18n SEO (lang, title, meta)
‚îÇ   ‚îú‚îÄ‚îÄ index.css                  # Tailwind v4 —Ç–µ–º–∞ + –∞–Ω–∏–º–∞—Ü–∏–∏ —á–∞—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ main.jsx                   # React entrypoint + i18n init + Suspense
‚îÇ   ‚îî‚îÄ‚îÄ test-setup.js              # Vitest setup + i18n init
‚îú‚îÄ‚îÄ server.js                      # ‚òÖ Express API-–ø—Ä–æ–∫—Å–∏ –¥–ª—è GigaChat
‚îú‚îÄ‚îÄ ecosystem.config.cjs           # PM2 –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è VPS
‚îú‚îÄ‚îÄ setup-vps.sh                   # –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VPS
‚îú‚îÄ‚îÄ deploy.sh                      # –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
‚îú‚îÄ‚îÄ vite.config.js                 # Vite + Tailwind + proxy /api ‚Üí :3001
‚îú‚îÄ‚îÄ .env                           # –°–µ–∫—Ä–µ—Ç—ã (–≤ .gitignore!)
‚îú‚îÄ‚îÄ .env.example                   # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ package.json                   # –°–∫—Ä–∏–ø—Ç—ã: dev, dev:server, build, start, test
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–∞—Ç-–≤–∏–¥–∂–µ—Ç–∞

```
–ë—Ä–∞—É–∑–µ—Ä (ChatWidget.jsx)
  ‚îÇ  fetch('/api/chat', { messages })
  ‚ñº
Apache (:443, SSL)
  ‚îÇ  ProxyPass /api ‚Üí http://localhost:3001/api
  ‚ñº
Express server.js (:3001)
  ‚îÇ  ‚îú‚îÄ‚îÄ Token management (OAuth ‚Üí ngw.devices.sberbank.ru)
  ‚îÇ  ‚îú‚îÄ‚îÄ Rate limiting (10 req/min per IP)
  ‚îÇ  ‚îú‚îÄ‚îÄ Input validation
  ‚îÇ  ‚îî‚îÄ‚îÄ POST /api/lead (—Å–±–æ—Ä –ª–∏–¥–æ–≤)
  ‚ñº
GigaChat API (gigachat.devices.sberbank.ru)
```

### ChatWidget.jsx ‚Äî –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **Floating-–∫–Ω–æ–ø–∫–∞** —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π (framer-motion) –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
- **–ß–∞—Ç-–æ–∫–Ω–æ** 400√ó600px, full-screen –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ** + 4 quick-action –∫–Ω–æ–ø–∫–∏ (–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –¢–∞—Ä–∏—Ñ—ã, AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è, AutoView)
- **Markdown-—Ä–µ–Ω–¥–µ—Ä** (bold, italic, —Å—Å—ã–ª–∫–∏, —Å–ø–∏—Å–∫–∏) —Å XSS-–∑–∞—â–∏—Ç–æ–π (escapeHtml)
- **Lead-—Ñ–æ—Ä–º–∞** (React Hook Form + Zod) ‚Äî –∏–º—è + email, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ
- **localStorage** ‚Äî –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ –∏ –ª–∏–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –≤–∏–∑–∏—Ç–∞–º–∏
- **Rate limiting** ‚Äî 5 msg/–º–∏–Ω, 50 msg/—Å–µ—Å—Å–∏—é (–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π)
- **Feature flag** ‚Äî `VITE_ENABLE_CHAT=true` –≤–∫–ª—é—á–∞–µ—Ç –≤–∏–¥–∂–µ—Ç
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî console.log (—Ä–∞—Å—à–∏—Ä—è–µ–º–æ –¥–æ GA)

### server.js ‚Äî –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **Token cache** ‚Äî OAuth-—Ç–æ–∫–µ–Ω GigaChat –∫–µ—à–∏—Ä—É–µ—Ç—Å—è, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏
- **Retry** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—Ä–æ—Å –ø—Ä–∏ 401 (–ø—Ä–æ—Ç—É—Ö—à–∏–π —Ç–æ–∫–µ–Ω)
- **Rate limiting** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω—ã–π, 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω –Ω–∞ IP
- **Validation** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ messages, –¥–ª–∏–Ω—ã, —Ä–æ–ª–µ–π
- **POST /api/lead** ‚Äî –ø—Ä–∏—ë–º –ª–∏–¥–æ–≤ (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≥–æ—Ç–æ–≤–æ –∫ CRM-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- **SPA fallback** ‚Äî –≤ production —Ä–∞–∑–¥–∞—ë—Ç `dist/` (Express 5 —Å–æ–≤–º–µ—Å—Ç–∏–º–æ)

### –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç GigaChat:
–ü—Ä–æ–º–ø—Ç –∑–∞–¥–∞–Ω –≤ `ChatWidget.jsx` ‚Üí `SYSTEM_PROMPT`. –í–∫–ª—é—á–∞–µ—Ç: –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏—á YouPub, —Ç–∞—Ä–∏—Ñ—ã (Starter 500‚ÇΩ, Pro 1500‚ÇΩ, Business 5000‚ÇΩ), –ø—Ä–∞–≤–∏–ª–∞ –æ–±—â–µ–Ω–∏—è (—Ä—É—Å—Å–∫–∏–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –ø—Ä–æ–¥–∞—é—â–∏–π, –¥–æ 200 —Å–ª–æ–≤).

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```
# –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ (–ø–æ–ø–∞–¥–∞—é—Ç –≤ –±–∞–Ω–¥–ª —á–µ—Ä–µ–∑ Vite)
VITE_ENABLE_CHAT=true

# –°–µ—Ä–≤–µ—Ä–Ω—ã–µ (—Ç–æ–ª—å–∫–æ server.js, –ù–ï –≤ –±–∞–Ω–¥–ª–µ)
GIGACHAT_API_KEY=<base64 –∫–ª—é—á —Å developers.sber.ru>
GIGACHAT_SCOPE=GIGACHAT_API_PERS
PORT=3001
```

## –î–µ–ø–ª–æ–π –Ω–∞ VPS

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π**: push –≤ `main` ‚Üí GitHub Actions (build + test + SCP + PM2 restart)
- **VPS**: Apache (SSL, ProxyPass /api ‚Üí :3001, DocumentRoot ‚Üí dist/) + PM2 (youpub-api)
- **Apache VirtualHost** –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `DocumentRoot /ssd/www/youpublanding/dist`, ProxyPass –≤ –∫–æ–Ω—Ñ–∏–≥–µ (–ù–ï –≤ .htaccess)
- `.htaccess` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ: SPA fallback, gzip, cache headers

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (2026-02-13)

### –ó–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ
- [x] ChatWidget.jsx ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å UI, –∞–Ω–∏–º–∞—Ü–∏—è–º–∏, —Ñ–æ—Ä–º–∞–º–∏
- [x] server.js ‚Äî Express API-–ø—Ä–æ–∫—Å–∏ –¥–ª—è GigaChat
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ App.jsx
- [x] Vitest —Ç–µ—Å—Ç—ã (5/5 pass)
- [x] PM2 + Apache –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ VPS
- [x] GitHub Actions –¥–µ–ø–ª–æ–∏—Ç —Ñ—Ä–æ–Ω—Ç + —Å–µ—Ä–≤–µ—Ä
- [x] .env –Ω–∞ VPS —Å GigaChat API –∫–ª—é—á–æ–º
- [x] Fix: Express 5 wildcard route ‚Üí middleware
- [x] Fix: VITE_ENABLE_CHAT –≤ CI build env
- [x] Fix: —É–±—Ä–∞–Ω ProxyPreserveHost –∏–∑ .htaccess
- [x] **i18n** ‚Äî –ø–æ–ª–Ω–∞—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (7 —è–∑—ã–∫–æ–≤: ru/en/zh/hi/de/fr/nl)
- [x] **i18n** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ –≤ Navbar (–¥–µ—Å–∫—Ç–æ–ø dropdown + –º–æ–±–∏–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏)
- [x] **i18n** ‚Äî –≤—Å–µ 13 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã (250+ –∫–ª—é—á–µ–π)
- [x] **i18n** ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ (title, description, lang)
- [x] **i18n** ‚Äî ChatWidget –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω (—Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç, —Å–æ–æ–±—â–µ–Ω–∏—è, —Ñ–æ—Ä–º—ã)
- [x] **i18n** ‚Äî RTL-–º–µ—Ö–∞–Ω–∏–∑–º –≥–æ—Ç–æ–≤ (–¥–ª—è –±—É–¥—É—â–µ–≥–æ ar/he)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ üìã

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤–∏–¥–∂–µ—Ç–∞ –Ω–∞ VPS** ‚Äî –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–∞ .htaccess —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ —á–∞—Ç–∞ –≤–∏–¥–Ω–∞ –∏ GigaChat –æ—Ç–≤–µ—á–∞–µ—Ç
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GigaChat API** ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–∏–¥–∂–µ—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç
3. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç GigaChat** ‚Äî –µ—Å–ª–∏ API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è `NODE_TLS_REJECT_UNAUTHORIZED=0` (—É–∂–µ –≤ ecosystem.config.cjs)
4. **–î–æ—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–∑–∞–π–Ω–∞** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –ó–≤—É–∫–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ –±–æ—Ç–∞
   - –ê–≤–∞—Ç–∞—Ä –±–æ—Ç–∞ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º YouPub
   - –ê–Ω–∏–º–∞—Ü–∏—è "–ø–µ—á–∞—Ç–∞–µ—Ç..." —Å –∏–º–µ–Ω–µ–º –±–æ—Ç–∞
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî –ø–æ–¥–∫–ª—é—á–∏—Ç—å Google Analytics / Yandex Metrika –∫ —Å–æ–±—ã—Ç–∏—è–º —á–∞—Ç–∞
6. **–õ–∏–¥—ã** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è POST /api/lead —Å CRM/email (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ console.log)
7. ~~–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å~~ ‚Äî ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ! 7 —è–∑—ã–∫–æ–≤ (ru/en/zh/hi/de/fr/nl) —á–µ—Ä–µ–∑ react-i18next

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: API-–∫–ª—é—á GigaChat –¢–û–õ–¨–ö–û –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ –≤ VITE_ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –Ω–µ –≤ –±–∞–Ω–¥–ª–µ)
- **Express 5**: –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `app.get('*', ...)` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `app.use()` middleware
- **Apache .htaccess**: `ProxyPreserveHost`, `ProxyPass`, `ProxyPassReverse` –∑–∞–ø—Ä–µ—â–µ–Ω—ã ‚Äî –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¢–û–õ–¨–ö–û –≤ VirtualHost –∫–æ–Ω—Ñ–∏–≥–µ
- **GigaChat SSL**: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ—Ç —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –¶–ê, `NODE_TLS_REJECT_UNAUTHORIZED=0` –≤ PM2 env
- **Git**: `.env` –≤ `.gitignore`, —Å–µ–∫—Ä–µ—Ç—ã CI —á–µ—Ä–µ–∑ GitHub Secrets (environment: `new`)
